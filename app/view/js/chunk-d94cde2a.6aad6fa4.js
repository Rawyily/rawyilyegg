(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d94cde2a"],{"243c":function(e,t,n){"use strict";n("bb63")},"32c7":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return o}));var c=n("1bab");function a(e){return console.log(e),Object(c["a"])({url:"api/setimgproject",method:"post",data:e})}function l(e){return console.log(e),Object(c["a"])({url:"api/setslideshow",method:"post",data:e})}function o(e,t){console.log(e),document.cookie="numAndLink="+t;var n=document.cookie;return Object(c["a"])({url:"api/setrecommend",method:"post",headers:{Cookies:n},data:e})}},6700:function(e,t,n){"use strict";n.r(t);n("b0c0");var c=n("7a23"),a=n("32c7"),l=n("c9a1"),o=(n("a18c"),function(e){return Object(c["pushScopeId"])("data-v-68a73ebf"),e=e(),Object(c["popScopeId"])(),e}),r={class:"box"},u=o((function(){return Object(c["createElementVNode"])("div",{class:"header"},"上传新项目",-1)})),i={key:0,class:"getall",ref:"getall"},p=o((function(){return Object(c["createElementVNode"])("h4",null,"1.上传 250px*250px 格式为 jpg/jpeg/png 封面图片一张:",-1)})),f=o((function(){return Object(c["createElementVNode"])("hr",null,null,-1)})),s={class:"imgbox"},d=["src"],b=o((function(){return Object(c["createElementVNode"])("hr",null,null,-1)})),j=o((function(){return Object(c["createElementVNode"])("h4",null,"2.项目链接：",-1)})),g=o((function(){return Object(c["createElementVNode"])("h4",null,"3.项目标题：",-1)})),m=o((function(){return Object(c["createElementVNode"])("h4",null,"3.项目描述：",-1)})),v={setup:function(e){var t=Object(c["ref"])(void 0),n=Object(c["ref"])(void 0),o=Object(c["ref"])({name:void 0,size:" <2M",type:" png/jpg/jpeg",wh:" 要求250px*250px"}),v=function(){console.log("change,change,change,change,change");var e=n.value.files[0];console.log(e);var c=Math.floor(e.size/1024);o.value.size=c<1024&&c>0?" "+c+" KB":" "+Math.floor(c/1024*10)/10+" MB","image/jpeg"==e.type|"image/jpg"==e.type|"image/png"==e.type?o.value.type=e.type:o.value.type="不是正确的图片类型";var a=new Image;a.src=t.value+"?"+Date.parse(new Date),o.value.wh=a.width+"px*"+a.height+"px",setTimeout((function(){if(0==a.width){var e=new Image;e.src=t.value,o.value.wh=e.width+"px*"+e.height+"px"}}),100),setTimeout((function(){if(0==a.width){var e=new Image;e.src=t.value,o.value.wh=e.width+"px*"+e.height+"px"}}),1e3);var l=new FileReader;l.readAsDataURL(e),l.onload=function(){t.value=l.result}},h=Object(c["ref"])(void 0),O=Object(c["ref"])(void 0),x=Object(c["ref"])(void 0),w=function(){var e=t.value,n=h.value.value,c=O.value.value,l=x.value.value,r=o.value.wh;"不是正确的图片格式"==o.value.type?y("不是正确的图片格式不接受上传"):e&&n&&c&&l&&"250px*250px"==r?(console.log("信息完整"),Object(a["a"])({img:e,name:n,link:c,text:l}).then((function(e){console.log(e),k(e.data.msg)})).catch((function(e){console.log(e),y(e)}))):(console.log("信息不完整"),y("请正确写内容"))},y=function(e){l["a"].alert(e,"提示",{confirmButtonText:"知道了",callback:function(){}})},k=function(e){l["a"].alert(e,"提示",{confirmButtonText:"关闭",callback:function(){t.value="",o.value.name="",o.value.size=" <2M",o.value.type=" png/jpg/jpeg",o.value.wh="要求250px*250px",E.value=!1,Object(c["nextTick"])((function(){E.value=!0}))}})},E=Object(c["ref"])(!0);return Object(c["onMounted"])((function(){})),function(e,a){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",r,[u,Object(c["unref"])(E)?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",i,[p,f,Object(c["createElementVNode"])("li",null,[Object(c["createElementVNode"])("input",{onChange:v,type:"file",ref_key:"files",ref:n},null,544)]),Object(c["createElementVNode"])("div",s,[Object(c["createElementVNode"])("img",{src:Object(c["unref"])(t),alt:""},null,8,d)]),Object(c["createElementVNode"])("p",null,"图片大小: "+Object(c["toDisplayString"])(Object(c["unref"])(o).size),1),Object(c["createElementVNode"])("p",null,"图片类型: "+Object(c["toDisplayString"])(Object(c["unref"])(o).type),1),Object(c["createElementVNode"])("p",null,"图片格式: "+Object(c["toDisplayString"])(Object(c["unref"])(o).wh),1),b,j,Object(c["createElementVNode"])("input",{placeholder:"五十字符以内的地址,双击打开",maxlength:"50",ref_key:"inputlink",ref:O,class:"input",type:"text"},null,512),g,Object(c["createElementVNode"])("input",{placeholder:"八个字符以内的标题",maxlength:"15",ref_key:"inputtitle",ref:h,class:"input",type:"text"},null,512),m,Object(c["createElementVNode"])("textarea",{placeholder:"255字符以内的介绍或描述",maxlength:"255",ref_key:"textarea",ref:x,class:"textarea"},null,512),Object(c["createElementVNode"])("div",{class:"load",onClick:a[0]||(a[0]=function(e){return w()})},"确认上传")],512)):Object(c["createCommentVNode"])("",!0)])}}},h=(n("243c"),n("6b0d")),O=n.n(h);const x=O()(v,[["__scopeId","data-v-68a73ebf"]]);t["default"]=x},b0c0:function(e,t,n){var c=n("83ab"),a=n("5e77").EXISTS,l=n("e330"),o=n("9bf2").f,r=Function.prototype,u=l(r.toString),i=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,p=l(i.exec),f="name";c&&!a&&o(r,f,{configurable:!0,get:function(){try{return p(i,u(this))[1]}catch(e){return""}}})},bb63:function(e,t,n){}}]);
//# sourceMappingURL=chunk-d94cde2a.6aad6fa4.js.map